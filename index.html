<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Study Timetable</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f0f2f5;
            color: #333;
            margin: 0;
            padding: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        h2 {
            background-color: #007BFF;
            color: #fff;
            padding: 10px;
            border-radius: 5px;
            margin: 20px 0;
        }
        #currentSubject {
            font-size: 1.5em;
            font-weight: bold;
            margin-bottom: 20px;
        }
        table {
            width: 80%;
            max-width: 1000px;
            margin: 20px 0;
            border-collapse: collapse;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        th, td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: center;
        }
        th {
            background-color: #007BFF;
            color: #fff;
        }
        tr:nth-child(even) {
            background-color: #f9f9f9;
        }
        tr:hover {
            background-color: #f1f1f1;
        }
        td {
            font-size: 1em;
        }
        @media (max-width: 768px) {
            table {
                width: 100%;
            }
            th, td {
                padding: 8px;
                font-size: 0.9em;
            }
        }
    </style>
</head>
<body>

<h2>Current Subject to Study</h2>
<p id="currentSubject">Loading...</p>

<h2>Weekday Timetable (Monday to Friday)</h2>
<table>
    <tr>
        <th>Time</th>
        <th>Monday</th>
        <th>Tuesday</th>
        <th>Wednesday</th>
        <th>Thursday</th>
        <th>Friday</th>
    </tr>
    <tr>
        <td>5:00 AM - 5:45 AM</td>
        <td>Maths</td>
        <td>History</td>
        <td>Physics</td>
        <td>Biology</td>
        <td>Chemistry</td>
    </tr>
    <tr>
        <td>5:45 AM - 6:30 AM</td>
        <td>English</td>
        <td>English</td>
        <td>English</td>
        <td>English</td>
        <td>English</td>
    </tr>
    <tr>
        <td>7:00 PM - 7:45 PM</td>
        <td>Lang1</td>
        <td>Lang2</td>
        <td>Lang3</td>
        <td>Lang1</td>
        <td>Lang2</td>
    </tr>
    <tr>
        <td>7:45 PM - 8:30 PM</td>
        <td>Maths</td>
        <td>History</td>
        <td>Physics</td>
        <td>Biology</td>
        <td>Chemistry</td>
    </tr>
    <tr>
        <td>8:30 PM - 9:15 PM</td>
        <td>English</td>
        <td>English</td>
        <td>English</td>
        <td>English</td>
        <td>English</td>
    </tr>
    <tr>
        <td>9:15 PM - 10:00 PM</td>
        <td>Homework for Tuesday's subjects</td>
        <td>Homework for Wednesday's subjects</td>
        <td>Homework for Thursday's subjects</td>
        <td>Homework for Friday's subjects</td>
        <td>Homework for Monday's subjects</td>
    </tr>
    <tr>
        <td>10:00 PM - 10:45 PM</td>
        <td>Break</td>
        <td>Break</td>
        <td>Break</td>
        <td>Break</td>
        <td>Break</td>
    </tr>
    <tr>
        <td>10:45 PM - 12:00 AM</td>
        <td>Study Maths</td>
        <td>Study History</td>
        <td>Study Physics</td>
        <td>Study Biology</td>
        <td>Study Chemistry</td>
    </tr>
</table>

<h2>Weekend Timetable (Saturday and Sunday)</h2>
<table>
    <tr>
        <th>Time</th>
        <th>Saturday</th>
        <th>Sunday</th>
    </tr>
    <tr>
        <td>7:00 AM - 9:00 AM</td>
        <td>Free time for personal activities and breakfast</td>
        <td>Free time for personal activities and breakfast</td>
    </tr>
    <tr>
        <td>9:00 AM - 10:00 AM</td>
        <td>Study Maths (focus on difficult topics)</td>
        <td>Self-test and quiz on Maths</td>
    </tr>
    <tr>
        <td>10:00 AM - 11:00 AM</td>
        <td>Study History (focus on difficult topics)</td>
        <td>Self-test and quiz on History</td>
    </tr>
    <tr>
        <td>7:00 PM - 8:00 PM</td>
        <td>Study Physics</td>
        <td>Self-test and quiz on Physics</td>
    </tr>
    <tr>
        <td>8:00 PM - 9:00 PM</td>
        <td>Study Biology</td>
        <td>Self-test and quiz on Biology</td>
    </tr>
    <tr>
        <td>9:00 PM - 10:00 PM</td>
        <td>Study Chemistry</td>
        <td>Self-test and quiz on Chemistry</td>
    </tr>
    <tr>
        <td>10:00 PM - 10:45 PM</td>
        <td>Break</td>
        <td>Break</td>
    </tr>
    <tr>
        <td>10:45 PM - 12:00 AM</td>
        <td>Study Maths</td>
        <td>Study History</td>
    </tr>
</table>

<script>
    const timetable = {
        "Monday": [
            { time: "5:00 AM - 5:45 AM", subject: "Maths" },
            { time: "5:45 AM - 6:30 AM", subject: "English" },
            { time: "7:00 PM - 7:45 PM", subject: "Lang1" },
            { time: "7:45 PM - 8:30 PM", subject: "Maths" },
            { time: "8:30 PM - 9:15 PM", subject: "English" },
            { time: "9:15 PM - 10:00 PM", subject: "Homework for Tuesday's subjects" },
            { time: "10:00 PM - 10:45 PM", subject: "Break" },
            { time: "10:45 PM - 12:00 AM", subject: "Study Maths" }
        ],
        "Tuesday": [
            { time: "5:00 AM - 5:45 AM", subject: "History" },
            { time: "5:45 AM - 6:30 AM", subject: "English" },
            { time: "7:00 PM - 7:45 PM", subject: "Lang2" },
            { time: "7:45 PM - 8:30 PM", subject: "History" },
            { time: "8:30 PM - 9:15 PM", subject: "English" },
            { time: "9:15 PM - 10:00 PM", subject: "Homework for Wednesday's subjects" },
            { time: "10:00 PM - 10:45 PM", subject: "Break" },
            { time: "10:45 PM - 12:00 AM", subject: "Study History" }
        ],
        "Wednesday": [
            { time: "5:00 AM - 5:45 AM", subject: "Physics" },
            { time: "5:45 AM - 6:30 AM", subject: "English" },
            { time: "7:00 PM - 7:45 PM", subject: "Lang3" },
            { time: "7:45 PM - 8:30 PM", subject: "Physics" },
            { time: "8:30 PM - 9:15 PM", subject: "English" },
            { time: "9:15 PM - 10:00 PM", subject: "Homework for Thursday's subjects" },
            { time: "10:00 PM - 10:45 PM", subject: "Break" },
            { time: "10:45 PM - 12:00 AM", subject: "Study Physics" }
        ],
        "Thursday": [
            { time: "5:00 AM - 5:45 AM", subject: "Biology" },
            { time: "5:45 AM - 6:30 AM", subject: "English" },
            { time: "7:00 PM - 7:45 PM", subject: "Lang1" },
            { time: "7:45 PM - 8:30 PM", subject: "Biology" },
            { time: "8:30 PM - 9:15 PM", subject: "English" },
            { time: "9:15 PM - 10:00 PM", subject: "Homework for Friday's subjects" },
            { time: "10:00 PM - 10:45 PM", subject: "Break" },
            { time: "10:45 PM - 12:00 AM", subject: "Study Biology" }
        ],
        "Friday": [
            { time: "5:00 AM - 5:45 AM", subject: "Chemistry" },
            { time: "5:45 AM - 6:30 AM", subject: "English" },
            { time: "7:00 PM - 7:45 PM", subject: "Lang2" },
            { time: "7:45 PM - 8:30 PM", subject: "Chemistry" },
            { time: "8:30 PM - 9:15 PM", subject: "English" },
            { time: "9:15 PM - 10:00 PM", subject: "Homework for Monday's subjects" },
            { time: "10:00 PM - 10:45 PM", subject: "Break" },
            { time: "10:45 PM - 12:00 AM", subject: "Study Chemistry" }
        ],
        "Saturday": [
            { time: "7:00 AM - 9:00 AM", subject: "Free time for personal activities and breakfast" },
            { time: "9:00 AM - 10:00 AM", subject: "Study Maths (focus on difficult topics)" },
            { time: "10:00 AM - 11:00 AM", subject: "Study History (focus on difficult topics)" },
            { time: "7:00 PM - 8:00 PM", subject: "Study Physics" },
            { time: "8:00 PM - 9:00 PM", subject: "Study Biology" },
            { time: "9:00 PM - 10:00 PM", subject: "Study Chemistry" },
            { time: "10:00 PM - 10:45 PM", subject: "Break" },
            { time: "10:45 PM - 12:00 AM", subject: "Study Maths" }
        ],
        "Sunday": [
            { time: "7:00 AM - 9:00 AM", subject: "Free time for personal activities and breakfast" },
            { time: "9:00 AM - 10:00 AM", subject: "Self-test and quiz on Maths" },
            { time: "10:00 AM - 11:00 AM", subject: "Self-test and quiz on History" },
            { time: "7:00 PM - 8:00 PM", subject: "Self-test and quiz on Physics" },
            { time: "8:00 PM - 9:00 PM", subject: "Self-test and quiz on Biology" },
            { time: "9:00 PM - 10:00 PM", subject: "Self-test and quiz on Chemistry" },
            { time: "10:00 PM - 10:45 PM", subject: "Break" },
            { time: "10:45 PM - 12:00 AM", subject: "Study History" }
        ]
    };

    function convertTo12HourFormat(hours, minutes) {
        const ampm = hours >= 12 ? 'PM' : 'AM';
        hours = hours % 12;
        hours = hours ? hours : 12; // the hour '0' should be '12'
        return `${hours}:${minutes < 10 ? '0' + minutes : minutes} ${ampm}`;
    }

    function getCurrentSubject() {
        const now = new Date();
        const day = now.toLocaleString('en-US', { weekday: 'long' });
        const dayTimetable = timetable[day] || [];
        const currentTime = now.getHours() * 60 + now.getMinutes();

        for (let i = 0; i < dayTimetable.length; i++) {
            const [start, end] = dayTimetable[i].time.split(' - ').map(t => t.trim());
            const [startHours, startMinutes] = start.split(':').map(Number);
            const [endHours, endMinutes] = end.split(':').map(Number);
            const startTime = startHours * 60 + startMinutes;
            const endTime = endHours * 60 + endMinutes;

            if (currentTime >= startTime && currentTime < endTime) {
                console.log(`Current time: ${convertTo12HourFormat(now.getHours(), now.getMinutes())} falls between ${start} and ${end}`);
                return dayTimetable[i].subject;
            }
        }

        console.log(`No current subject for time: ${convertTo12HourFormat(now.getHours(), now.getMinutes())}`);
        return "No current subject";
    }

    document.addEventListener('DOMContentLoaded', (event) => {
        document.getElementById('currentSubject').textContent = getCurrentSubject();
        setInterval(() => {
            document.getElementById('currentSubject').textContent = getCurrentSubject();
        }, 60000); // Update every minute
    });
</script>

</body>
</html>
